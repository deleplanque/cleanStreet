
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCPoOajyOD44_Dwie5XRMofsEDKoM7JMrs&callback=initMap"
async defer>
</script>
<toaster-container></toaster-container>
<div class="row" id="mapSignalements">
  <div class="col m6 offset-m1">
    <div class="popin-header">
      <h2>Carte des signalements</h2>
    </div>
    <div class="popin-map description-popin">
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="13">
        <agm-marker [latitude]="lat" [longitude]="lng" [iconUrl]="'assets/images/marker_humain.png'"></agm-marker>
        <agm-marker  (markerClick)="markerClick(signalement.localisation)" *ngFor="let signalement of signalements" [latitude]="signalement.localisation.latitude" [longitude]="signalement.localisation.longitude"></agm-marker>
      </agm-map>
    </div>
  </div>

  <div class="col s12 m3" *ngIf="isSelected">
    <div class="card">
      <div class="card-image">
        <img [src]="signalement.photo" class="">
        <a target="_blank" href="https://www.google.fr/maps/dir/'{{lat}},{{lng}}'/'{{signalement.localisation.latitude}},{{signalement.localisation.longitude}}'" class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">send</i></a>
      </div>
      <div class="card-content">
        <span class="card-title">{{signalement.quartier.nom}}</span>
        <p>{{signalement.description}}</p>
      </div>
    </div>
  </div>
</div>
